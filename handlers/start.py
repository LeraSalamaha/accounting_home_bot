"""–ú–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞."""
from telebot import types
from telebot.types import Message


def main_menu_button():
    """–ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."""
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add(types.KeyboardButton("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"))
    return markup


def register_start_handlers(bot):
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Å—Ç–∞—Ä—Ç–∞."""
    def send_welcome(message: Message):
        welcome_text = (
            "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞üí∞\n\n"
            "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:"
        )
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        item1 = types.KeyboardButton("–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—ã üí≥")
        item2 = types.KeyboardButton("–û—Ç—á–µ—Ç—ã üìä")
        item3 = types.KeyboardButton("–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å üóëÔ∏è")
        item4 = types.KeyboardButton("–ü–æ–º–æ—â—å ‚ùì")
        markup.add(item1, item2, item3, item4)
        bot.send_message(message.chat.id, welcome_text, reply_markup=markup)

    @bot.message_handler(commands=['start'])
    def start_handler(message: Message):
        send_welcome(message)

    @bot.message_handler(
            func=lambda message: message.text == "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        )
    def welcome_back_handler(message: Message):
        send_welcome(message)

    @bot.message_handler(func=lambda message: message.text == "–ü–æ–º–æ—â—å ‚ùì")
    def send_help(message: Message):
        help_text = """
    üìå <b>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞</b>

    <u>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</u>
    /start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

    <u>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:</u>
    üí≥ <b>–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—ã</b> - –í–Ω–µ—Å—Ç–∏ –¥–æ—Ö–æ–¥ –∏–ª–∏ —Ä–∞—Å—Ö–æ–¥
    üìä <b>–û—Ç—á–µ—Ç—ã</b> - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    üóëÔ∏è <b>–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å</b> - –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    ‚ùì <b>–ü–æ–º–æ—â—å</b> - –°–ø—Ä–∞–≤–∫–∞

    <u>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥?</u>
    1. –ù–∞–∂–º–∏—Ç–µ <b>¬´–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—ã¬ª</b>
    2. –í—ã–±–µ—Ä–∏—Ç–µ <b>¬´–î–æ—Ö–æ–¥—ã¬ª</b> –∏–ª–∏ <b>¬´–†–∞—Å—Ö–æ–¥—ã¬ª</b>
    3. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
    4. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
    5. –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1500 –∏–ª–∏ 2000.50)

    ‚ö†Ô∏è <i>–í–∞–∂–Ω–æ:</i>
    - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ <b>–Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∞—Ç—ã</b>
    - –°—É–º–º–∞ - <b>—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ —Ç–æ—á–∫–∞(–∑–∞–ø—è—Ç—ã–µ)</b>

    <u>–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç—á–µ—Ç?</u>
    1. –ù–∞–∂–º–∏—Ç–µ <b>¬´–û—Ç—á–µ—Ç—ã¬ª</b>
    2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø:
    - <b>–ü–æ –¥–µ–Ω—å–≥–∞–º</b> - –æ–±—â–∏–µ —Å—É–º–º—ã
    - <b>–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</b> - –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è
    - <b>–û–±—â–∏–π</b> - –≤—Å—ë –≤–º–µ—Å—Ç–µ
    3. –£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ <b>¬´–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü¬ª</b>

    <u>–ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?</u>
    1. –ù–∞–∂–º–∏—Ç–µ <b>¬´–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å¬ª</b>
    2. –í—ã–±–µ—Ä–∏—Ç–µ:
    - <b>–ö–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å</b> ‚Üí —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
    - <b>–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</b> ‚Üí —É–¥–∞–ª–∏—Ç <b>–≤—Å–µ –¥–∞–Ω–Ω—ã–µ</b> (–Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!)

    <u>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</u>
    ‚ùî <i>–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –≤ –∑–∞–ø–∏—Å–∏?</i>
    ‚Üí –£–¥–∞–ª–∏—Ç–µ –Ω–µ–≤–µ—Ä–Ω—É—é –∑–∞–ø–∏—Å—å –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é

    ‚ùî <i>–ü–æ—á–µ–º—É –Ω–µ—Ç –º–æ–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π?</i>
    ‚Üí –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö —á–µ—Ä–µ–∑ <b>¬´–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—ã¬ª ‚Üí ¬´–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é¬ª</b>

    ‚ùî <i>–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–∞—Ç—ã –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü?</i>
    ‚Üí –í –æ—Ç—á–µ—Ç–∞—Ö –≤—ã–±–µ—Ä–∏—Ç–µ <b>¬´–í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–∏–æ–¥¬ª</b> –∏ —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—ã

    üîÑ<b>–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:</b> –ù–∞–∂–º–∏—Ç–µ <i>¬´–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª</i>
    """
        bot.send_message(
            message.chat.id,
            help_text,
            parse_mode="HTML",
            reply_markup=main_menu_button()
        )

    return send_welcome
